---
title: 'Claude Code 配置教程'
description: '在 Claude Code CLI 中配置 Crazyrouter API'
---

## 概述

Claude Code 是 Anthropic 官方的命令行 AI 编程助手。通过配置环境变量，可以将其接入 Crazyrouter。

## 配置方法

### 设置环境变量

<Tabs>
  <Tab title="Linux / macOS">
    ```bash
    export ANTHROPIC_BASE_URL=https://crazyrouter.com
    export ANTHROPIC_API_KEY=sk-xxx
    ```

    写入 `~/.bashrc` 或 `~/.zshrc` 永久生效：

    ```bash
    echo 'export ANTHROPIC_BASE_URL=https://crazyrouter.com' >> ~/.bashrc
    echo 'export ANTHROPIC_API_KEY=sk-xxx' >> ~/.bashrc
    source ~/.bashrc
    ```
  </Tab>
  <Tab title="Windows (PowerShell)">
    ```powershell
    $env:ANTHROPIC_BASE_URL = "https://crazyrouter.com"
    $env:ANTHROPIC_API_KEY = "sk-xxx"
    ```

    永久设置：

    ```powershell
    [System.Environment]::SetEnvironmentVariable("ANTHROPIC_BASE_URL", "https://crazyrouter.com", "User")
    [System.Environment]::SetEnvironmentVariable("ANTHROPIC_API_KEY", "sk-xxx", "User")
    ```
  </Tab>
</Tabs>

### 启动 Claude Code

```bash
claude
```

## 验证

启动后输入任意问题，如果正常返回则配置成功。

<Note>
  Claude Code 使用 Anthropic 原生 API 格式（`/v1/messages`），Crazyrouter 完全兼容该格式。注意 Base URL 不需要加 `/v1` 后缀。
</Note>

<Warning>
  确保你的令牌已启用 Claude 系列模型（如 `claude-sonnet-4-20250514`）。
</Warning>
